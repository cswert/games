<!DOCTYPE html>
<title>Guess My Colour Game</title>
<!-- A game about guessing a randomly generated colour.
	The goal is to guess the colour by its RGB and HSL values.
		Baby: Dropdown selection
		Easy: Guess wavelength
		Medium: Guess RGB values
		Hard: Guess RGB values + HSL values
		Impossible: Hard, but with useless hints
	Vibe coded with ChatGPT, and Claude
	Created by cswert
	Last modified 11 Oct 2025-->
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
	body {
		font-family: Arial, sans-serif;
		max-width: 600px;
		margin: 0 auto;
		padding: 20px;
		background-color: #1a1a1a;
		color: #e0e0e0;
		user-select: none;
	}
	.gameContainer {
		background: #2d2d2d;
		border-radius: 10px;
		padding: 20px;
		box-shadow: 0 2px 10px rgba(0,0,0,0.5);
	}
	.displayColour {
		width: 200px;
		height: 200px;
		border: 3px solid #555;
		border-radius: 10px;
		margin: 20px auto;
	}
	.diffSelect {text-align: center; margin-bottom: 20px;}
	.diffSelect button {
		padding: 5px 10px;
		border: none;
		border-radius: 5px;
		cursor: pointer;
		background: #444;
		color: #e0e0e0;
	}
	.diffSelect button.active {background: #4CAF50; color: white;}
	.inputs {margin: 20px 0; text-align: center;}
	.inputGrp {margin: 10px 0;}
	.inputGrp label {display: inline-block; text-align: left;}
	.inputGrp input, .inputGrp select {
		margin: 0 5px;
		padding: 5px;
		width: 64px;
		background: #444;
		color: #e0e0e0;
		border: 1px solid #666;
		border-radius: 3px;
	}
	.inputGrp select {width: 80px;}
	.submitBtn {
		background: #2196F3;
		color: white;
		border: none;
		padding: 10px 20px;
		border-radius: 5px;
		cursor: pointer;
		margin: 0 10px;
	}
	.submitBtn:hover {background: #1976D2;}
	.feedback {
		margin: 20px 0;
		padding: 15px;
		border-radius: 5px;
		text-align: center;
	}
	.correct {
		background: #1e4d30;
		color: #4caf50;
		border: 1px solid #2e7d40;
	}
	.incorrect {
		background: #4d1e24;
		color: #f44336;
		border: 1px solid #7d2e34;
	}
	.hint {
		background: #4d4020;
		color: #ffc107;
		border: 1px solid #6d5a30;
	}
	.stats {text-align: center; margin-top: 20px;}
	@media (max-height: 600px) {
		body {padding: 10px;}
		.gameContainer {padding: 10px;}
		.displayColour {width: 150px; height: 150px; margin: 10px auto;}
		.diffSelect {margin-bottom: 10px;}
		.inputs {margin: 10px 0;}
		.inputGrp {margin: 5px 0;}
		.feedback {margin: 10px 0; padding: 10px;}
		.stats {margin-top: 10px;}
		h1 {margin: 0 0 10px 0;}
	}
</style>
</head>
<body>
<div class="gameContainer">
	<h1 style="justify-self: center;">Guess My Colour Game</h1>
	
	<div class="diffSelect">
		<button id="baby" class="active" onclick="setDifficulty('baby')">Baby</button>
		<button id="easy" onclick="setDifficulty('easy')">Easy</button>
		<button id="medium" onclick="setDifficulty('medium')">Medium</button>
		<button id="hard" onclick="setDifficulty('hard')">Hard</button>
		<button id="impossible" onclick="setDifficulty('impossible')">Impossible</button>
	</div>
	
	<div class="displayColour" id="colourDisplay"></div>
	
	<div class="inputs">
		<div id="babyMode">
			<div class="inputGrp">
				<label>Colour:</label>
				<select id="colourSelect">
					<option value="">Choose...</option>
					<option value="red">Red</option>
					<option value="blue">Blue</option>
					<option value="green">Green</option>
					<option value="yellow">Yellow</option>
					<option value="magenta">Magenta</option>
					<option value="cyan">Cyan</option>
					<option value="orange">Orange</option>
					<option value="purple">Purple</option>
					<option value="pink">Pink</option>
					<option value="brown">Brown</option>
					<option value="black">Black</option>
					<option value="white">White</option>
					<option value="gray">Gray</option>
				</select>
			</div>
		</div>
		
		<div id="wavelengthMode" style="display: none;">
			<div class="inputGrp">
				<label>Wavelength:</label>
				<input type="number" id="wavelengthInput" min="400" max="750" placeholder="400-750">
			</div>
		</div>
		
		<div id="rgbMode" style="display: none;">
			<div class="inputGrp">
				<label>R:</label><input type="number" id="redInput" min="0" max="255" placeholder="0-255">
				<label>G:</label><input type="number" id="greenInput" min="0" max="255" placeholder="0-255">
				<label>B:</label><input type="number" id="blueInput" min="0" max="255" placeholder="0-255">
			</div>
			<div class="inputGrp" id="hslInputs" style="display: none;">
				<label>H:</label><input type="number" id="hueInput" min="0" max="360" placeholder="0-360">
				<label>S:</label><input type="number" id="satInput" min="0" max="100" placeholder="0-100">
				<label>L:</label><input type="number" id="lightInput" min="0" max="100" placeholder="0-100">
			</div>
		</div>
		
		<button class="submitBtn" id="guessButton" onclick="makeGuess()">Make Guess</button>
		<button class="submitBtn" onclick="newGame()">New Colour</button>
	</div>
	
	<div id="feedback" class="feedback" style="display: none;"></div>
	
	<div class="stats">
		<p>Score: <span id="score">0</span> | Attempts: <span id="attemptsDisplay">0</span></p>
	</div>
</div>

<script>
	let currentColour = {r: 0, g: 0, b: 0, h: 0, s: 0, l: 0}, difficulty = 'baby', scoreValue = 0, attempts = 0;

	let colourMap = {
		red: {r: 255, g: 0, b: 0},
		blue: {r: 0, g: 0, b: 255},
		green: {r: 0, g: 128, b: 0},
		yellow: {r: 255, g: 255, b: 0},
		magenta: {r: 255, g: 0, b: 255},
		cyan: {r: 0, g: 255, b: 255},
		orange: {r: 255, g: 165, b: 0},
		purple: {r: 128, g: 0, b: 128},
		pink: {r: 255, g: 192, b: 203},
		brown: {r: 160, g: 113, b: 75},
		black: {r: 0, g: 0, b: 0},
		white: {r: 255, g: 255, b: 255},
		gray: {r: 128, g: 128, b: 128}
	};

	function setDifficulty(mode) {
		document.querySelectorAll('.diffSelect button').forEach(btn => btn.classList.remove('active'));
		window[mode].classList.add('active');
		babyMode.style.display = mode === 'baby' ? 'block' : 'none';
		wavelengthMode.style.display = mode === 'easy' ? 'block' : 'none';
		rgbMode.style.display = (mode !== 'baby' && mode !== 'easy') ? 'block' : 'none';
		hslInputs.style.display = (mode === 'hard' || mode === 'impossible') ? 'block' : 'none';
		difficulty = mode;
		newGame();
	}

	function generateRandomColour() {
		if (difficulty === 'baby') {
			let colourNames = Object.keys(colourMap);
			let randomColourName = colourNames[Math.floor(Math.random() * colourNames.length)];
			let colour = colourMap[randomColourName];
			let hsl = rgbToHsl(colour.r, colour.g, colour.b);
			return {r: colour.r, g: colour.g, b: colour.b, h: 0, s: 100, l: 100, name: randomColourName};
		} 
		else {
			let r = Math.floor(Math.random() * 256);
			let g = Math.floor(Math.random() * 256);
			let b = Math.floor(Math.random() * 256);
			let hsl = rgbToHsl(r, g, b);
			return {r: r, g: g, b: b, h: Math.round(hsl.h), s: Math.round(hsl.s), l: Math.round(hsl.l)};
		}
	}

	function rgbToHsl(r, g, b) {
		r /= 255; g /= 255; b /= 255;
		let max = Math.max(r, g, b), min = Math.min(r, g, b);
		let l = (max + min) / 2, h = 0, s = 0;
		if (max !== min) {
			let d = max - min;
			s = d / (1 - Math.abs(2 * l - 1));
			switch (max) {
				case r: h = ((g - b) / d) % 6; break;
				case g: h = (b - r) / d + 2; break;
				case b: h = (r - g) / d + 4; break;
			}
			h *= 60;
			if (h < 0) h += 360;
		}
		return {h, s: s * 100, l: l * 100};
	}

	function rgbToWavelength(r, g, b) {
		let hsl = rgbToHsl(r, g, b);
		let h = hsl.h;
		let wavelength;
		if (h < 60) wavelength = 750 - h * (750 - 600) / 60;
		else if (h < 120) wavelength = 600 - (h - 60) * (600 - 530) / 60;
		else if (h < 180) wavelength = 530 - (h - 120) * (530 - 480) / 60;
		else if (h < 240) wavelength = 480 - (h - 180) * (480 - 430) / 60;
		else if (h < 300) wavelength = 430 + (h - 240) * (480 - 430) / 60;
		else wavelength = 480 + (h - 300) * (750 - 480) / 60;
		return Math.round(Math.max(400, Math.min(750, wavelength)));
	}

	function newGame() {
		currentColour = generateRandomColour();
		colourDisplay.style.backgroundColor = `rgb(${currentColour.r},${currentColour.g},${currentColour.b})`;
		feedback.style.display = 'none';
		colourSelect.value = redInput.value = greenInput.value = blueInput.value = hueInput.value = satInput.value = lightInput.value = wavelengthInput.value = '';
		guessButton.style.display = 'inline-block';
	}

	function makeGuess() {
			attempts++;
			attemptsDisplay.textContent = attempts;
			let isCorrect = false;
			if (difficulty === 'baby') {
				let guess = colourSelect.value;
				if (!guess) return showFeedback('Please select a colour!', 'incorrect');
				isCorrect = guess === currentColour.name;
			} else if (difficulty === 'easy') {
				let guess = parseInt(wavelengthInput.value);
				if (!guess) return showFeedback('Please enter wavelength!', 'incorrect');
				let actual = rgbToWavelength(currentColour.r, currentColour.g, currentColour.b);
				isCorrect = guess === actual;
			} else {
				let r = parseInt(redInput.value) || 0, g = parseInt(greenInput.value) || 0, b = parseInt(blueInput.value) || 0;
				if (difficulty === 'medium') isCorrect = r === currentColour.r && g === currentColour.g && b === currentColour.b;
				else {
					let h = parseInt(hueInput.value) || 0, s = parseInt(satInput.value) || 0, l = parseInt(lightInput.value) || 0;
					isCorrect = r === currentColour.r && g === currentColour.g && b === currentColour.b && h === currentColour.h && s === currentColour.s && l === currentColour.l;
				}
			}
			if (isCorrect) {
				scoreValue++;
				score.textContent = scoreValue;
				let correctAnswer = difficulty === 'baby' ? `Correct! It was ${currentColour.name}!` :
					difficulty === 'easy' ? `Correct! Wavelength: ${rgbToWavelength(currentColour.r, currentColour.g, currentColour.b)}nm` :
					difficulty === 'medium' ? `Correct! RGB(${currentColour.r}, ${currentColour.g}, ${currentColour.b})` :
					`Correct! RGB(${currentColour.r}, ${currentColour.g}, ${currentColour.b}) HSL(${currentColour.h}, ${currentColour.s}%, ${currentColour.l}%)`;
				showFeedback(correctAnswer, 'correct');
				guessButton.style.display = 'none';
			} else {
				if (difficulty === 'baby') showFeedback('Are you colourblind?', 'hint');
				else if (difficulty === 'easy') {
					let guess = parseInt(wavelengthInput.value);
					let actual = rgbToWavelength(currentColour.r, currentColour.g, currentColour.b);
					showFeedback(guess > actual ? 'Too high' : 'Too low', 'hint');
				} 
				else if (difficulty === 'impossible') showFeedback(getImpossibleModeFeedback(), 'hint');
				else showFeedback(getFarthestOffFeedback(), 'hint');
			}
	}

	function getImpossibleModeFeedback() {
		let r = parseInt(redInput.value) || 0, g = parseInt(greenInput.value) || 0, b = parseInt(blueInput.value) || 0;
		let h = ((parseInt(hueInput.value) || 0) % 360 + 360) % 360;
		let s = parseInt(satInput.value) || 0, l = parseInt(lightInput.value) || 0;
		let hints = [];
		let diffs = [
			{diff: currentColour.r - r, name: 'red'},
			{diff: currentColour.g - g, name: 'green'},
			{diff: currentColour.b - b, name: 'blue'}
		];
		if (diffs.some(d => Math.abs(d.diff) > 10)) {
			let maxDiff = diffs.reduce((a, b) => Math.abs(a.diff) > Math.abs(b.diff) ? a : b);
			let colourHint = '';
			if (diffs[0].diff > 5 && diffs[1].diff > 5 && diffs[2].diff < -5) colourHint = 'yellow';
			else if (diffs[0].diff > 5 && diffs[2].diff > 5 && diffs[1].diff < -5) colourHint = 'magenta';
			else if (diffs[1].diff > 5 && diffs[2].diff > 5 && diffs[0].diff < -5) colourHint = 'cyan';
			else colourHint = maxDiff.diff > 0 ? maxDiff.name :
				maxDiff.name === 'red' ? 'cyan' : maxDiff.name === 'green' ? 'magenta' : 'yellow';
			hints.push(colourHint + 'er');
		}
		let hDiff = currentColour.h - h, sDiff = currentColour.s - s, lDiff = currentColour.l - l;
		let adjustedHDiff = Math.abs(hDiff) > 180 ? (hDiff > 0 ? hDiff - 360 : hDiff + 360) : hDiff;
		if (adjustedHDiff > 10) hints.push('hueer');
		else if (adjustedHDiff < -10) hints.push('unhueer');
		if (sDiff > 5) hints.push('colourfuler');
		else if (sDiff < -5) hints.push('duller');
		if (lDiff > 5) hints.push('brighter');
		else if (lDiff < -5) hints.push('darker');
		return hints.length ? hints[Math.floor(Math.random() * hints.length)] : 'very close';
	}

	function getFarthestOffFeedback() {
		if (difficulty === 'medium') {
			let r = parseInt(redInput.value) || 0, g = parseInt(greenInput.value) || 0, b = parseInt(blueInput.value) || 0;
			let diffs = [
				{name: 'red', diff: Math.abs(r - currentColour.r), guess: r, actual: currentColour.r},
				{name: 'green', diff: Math.abs(g - currentColour.g), guess: g, actual: currentColour.g},
				{name: 'blue', diff: Math.abs(b - currentColour.b), guess: b, actual: currentColour.b}
			];
			let farthest = diffs.reduce((max, val) => val.diff > max.diff ? val : max);
			return farthest.guess < farthest.actual ? `Not enough ${farthest.name}` : `Too much ${farthest.name}`;
		} else if (difficulty === 'hard' || difficulty === 'impossible') {
			let r = parseInt(redInput.value) || 0, g = parseInt(greenInput.value) || 0, b = parseInt(blueInput.value) || 0;
			let h = parseInt(hueInput.value) || 0, s = parseInt(satInput.value) || 0, l = parseInt(lightInput.value) || 0;
			let values = [
				{name: 'red', diff: Math.abs(r - currentColour.r), guess: r, actual: currentColour.r},
				{name: 'green', diff: Math.abs(g - currentColour.g), guess: g, actual: currentColour.g},
				{name: 'blue', diff: Math.abs(b - currentColour.b), guess: b, actual: currentColour.b},
				{name: 'hue', diff: Math.abs(h - currentColour.h), guess: h, actual: currentColour.h},
				{name: 'saturation', diff: Math.abs(s - currentColour.s), guess: s, actual: currentColour.s},
				{name: 'lightness', diff: Math.abs(l - currentColour.l), guess: l, actual: currentColour.l}
			];
			let farthest = values.reduce((max, val) => val.diff > max.diff ? val : max);
			return farthest.guess < farthest.actual ? `Not enough ${farthest.name}` : `Too much ${farthest.name}`;
		}
		return '';
	}

	function showFeedback(message, type) {
		feedback.textContent = message;
		feedback.className = `feedback ${type}`;
		feedback.style.display = 'block';
	}

	newGame();
</script>
</body>
</html>